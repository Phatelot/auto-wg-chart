var bt=Object.defineProperty;var yt=(t,e,n)=>e in t?bt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var V=(t,e,n)=>(yt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function E(){}function kt(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function pt(t){return t()}function ct(){return Object.create(null)}function R(t){t.forEach(pt)}function gt(t){return typeof t=="function"}function vt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Pt(t){return Object.keys(t).length===0}function c(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function Lt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function J(t){return document.createElement(t)}function u(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function F(){return G(" ")}function xt(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function r(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function X(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function $t(t){return Array.from(t.childNodes)}let D;function k(t){D=t}function Et(){if(!D)throw new Error("Function called outside component initialization");return D}const C=[],lt=[];let H=[];const ut=[],Wt=Promise.resolve();let Z=!1;function Mt(){Z||(Z=!0,Wt.then(tt))}function Q(t){H.push(t)}const z=new Set;let I=0;function tt(){if(I!==0)return;const t=D;do{try{for(;I<C.length;){const e=C[I];I++,k(e),It(e.$$)}}catch(e){throw C.length=0,I=0,e}for(k(null),C.length=0,I=0;lt.length;)lt.pop()();for(let e=0;e<H.length;e+=1){const n=H[e];z.has(n)||(z.add(n),n())}H.length=0}while(C.length);for(;ut.length;)ut.pop()();Z=!1,z.clear(),k(t)}function It(t){if(t.fragment!==null){t.update(),R(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}function Ct(t){const e=[],n=[];H.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),H=e}const q=new Set;let x;function Gt(){x={r:0,c:[],p:x}}function Ht(){x.r||R(x.c),x=x.p}function mt(t,e){t&&t.i&&(q.delete(t),t.i(e))}function Nt(t,e,n,o){if(t&&t.o){if(q.has(t))return;q.add(t),x.c.push(()=>{q.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function Ot(t,e){const n=e.token={};function o(i,a,l,p){if(e.token!==n)return;e.resolved=p;let f=e.ctx;l!==void 0&&(f=f.slice(),f[l]=p);const s=i&&(e.current=i)(f);let d=!1;e.block&&(e.blocks?e.blocks.forEach((h,m)=>{m!==a&&h&&(Gt(),Nt(h,1,1,()=>{e.blocks[m]===h&&(e.blocks[m]=null)}),Ht())}):e.block.d(1),s.c(),mt(s,1),s.m(e.mount(),e.anchor),d=!0),e.block=s,e.blocks&&(e.blocks[a]=s),d&&tt()}if(kt(t)){const i=Et();if(t.then(a=>{k(i),o(e.then,1,e.value,a),k(null)},a=>{if(k(i),o(e.catch,2,e.error,a),k(null),!e.hasCatch)throw a}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}function At(t,e,n){const o=e.slice(),{resolved:i}=t;t.current===t.then&&(o[t.value]=i),t.current===t.catch&&(o[t.error]=i),t.block.p(o,n)}function ht(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function St(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),Q(()=>{const a=t.$$.on_mount.map(pt).filter(gt);t.$$.on_destroy?t.$$.on_destroy.push(...a):R(a),t.$$.on_mount=[]}),i.forEach(Q)}function Dt(t,e){const n=t.$$;n.fragment!==null&&(Ct(n.after_update),R(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Rt(t,e){t.$$.dirty[0]===-1&&(C.push(t),Mt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Bt(t,e,n,o,i,a,l=null,p=[-1]){const f=D;k(t);const s=t.$$={fragment:null,ctx:[],props:a,update:E,not_equal:i,bound:ct(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:ct(),dirty:p,skip_bound:!1,root:e.target||f.$$.root};l&&l(s.root);let d=!1;if(s.ctx=n?n(t,e.props||{},(h,m,...P)=>{const L=P.length?P[0]:m;return s.ctx&&i(s.ctx[h],s.ctx[h]=L)&&(!s.skip_bound&&s.bound[h]&&s.bound[h](L),d&&Rt(t,h)),m}):[],s.update(),d=!0,R(s.before_update),s.fragment=o?o(s.ctx):!1,e.target){if(e.hydrate){const h=$t(e.target);s.fragment&&s.fragment.l(h),h.forEach(v)}else s.fragment&&s.fragment.c();e.intro&&mt(t.$$.fragment),St(t,e.target,e.anchor),tt()}k(f)}class jt{constructor(){V(this,"$$");V(this,"$$set")}$destroy(){Dt(this,1),this.$destroy=E}$on(e,n){if(!gt(n))return E;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!Pt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Tt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Tt);const Ut="/auto-wg-chart/assets/arrosoir-w2TsVfKe.png",Yt="/auto-wg-chart/assets/map-j_Qwz0vH.jpeg";function qt(t){const e=[],n=t.split(`
`);for(const o of n){const i=Kt(o);i&&e.push(i)}return e}function Kt(t){const[e,n]=t.split("	");return!e||!n?null:{character:e,amount:parseInt(n)}}const Vt="/auto-wg-chart/assets/annette-NUyppjxg.png",Ft="/auto-wg-chart/assets/Byleth-F-EbrSwuVU.webp",zt="/auto-wg-chart/assets/Catherine_Portrait-gCdUu3ho.webp",Xt="/auto-wg-chart/assets/Constance_Portrait-KxIsnN0R.webp",Zt="/auto-wg-chart/assets/Dorothea_Portrait-aF_63rVx.webp",Qt="/auto-wg-chart/assets/Edelgard-WXRdNHhm.webp",Jt="/auto-wg-chart/assets/Hapi_Portrait-JMqMmIhE.webp",te="/auto-wg-chart/assets/Hilda_Portrait--GM4uaBR.webp",ee="/auto-wg-chart/assets/Ingrid_Portrait-7l95VvNA.webp",ne="/auto-wg-chart/assets/Kronya_Portrait-ddahhRbo.webp",re="/auto-wg-chart/assets/Leonie_Portrait-Ekf0eLN6.webp",oe="/auto-wg-chart/assets/Lysithea_Portrait-frE03UKx.webp",ie="/auto-wg-chart/assets/Marianne_Portrait-06M3j-KT.webp",se="/auto-wg-chart/assets/Petra_Portrait-2tni-Zi-.webp",ae="/auto-wg-chart/assets/Shamir-YcWxaN01.webp",wt={Shamir:{heightInMeters:1.65,baseWeight:120,pictureLink:ae,color:"WHITE"},Edelgard:{heightInMeters:1.6,baseWeight:120,pictureLink:Qt,color:"RED"},Kronya:{heightInMeters:1.6,baseWeight:120,pictureLink:ne,color:"GREY"},Hilda:{heightInMeters:1.6,baseWeight:120,pictureLink:te,color:"YELLOW"},Annette:{heightInMeters:1.6,baseWeight:120,pictureLink:Vt,color:"BLUE"},Byleth:{heightInMeters:1.65,baseWeight:120,pictureLink:Ft,color:"GREY"},Catherine:{heightInMeters:1.65,baseWeight:120,pictureLink:zt,color:"WHITE"},Constance:{heightInMeters:1.65,baseWeight:120,pictureLink:Xt,color:"GREY"},Dorothea:{heightInMeters:1.65,baseWeight:120,pictureLink:Zt,color:"RED"},Hapi:{heightInMeters:1.65,baseWeight:120,pictureLink:Jt,color:"GREY"},Ingrid:{heightInMeters:1.65,baseWeight:120,pictureLink:ee,color:"BLUE"},Leonie:{heightInMeters:1.65,baseWeight:120,pictureLink:re,color:"YELLOW"},Lysithea:{heightInMeters:1.65,baseWeight:120,pictureLink:oe,color:"YELLOW"},Marianne:{heightInMeters:1.65,baseWeight:120,pictureLink:ie,color:"YELLOW"},Petra:{heightInMeters:1.65,baseWeight:120,pictureLink:se,color:"RED"}};function _t(t){return wt[t]}function ce(){return Object.keys(wt)}function le(t){const e={};for(const n of t)e[n.character]||(e[n.character]=0),e[n.character]+=n.amount;return ce().map(n=>{const o=e[n]||0,i=_t(n);return{name:n,totalDonatedAmount:o,weight:i.baseWeight+2*o}})}function ue(t){Math.max(...t.map(l=>l.weight));const o=3200,i=100/(5*t.length+1);return{characters:t.sort((l,p)=>l.totalDonatedAmount-p.totalDonatedAmount).map((l,p)=>{const f=4*i,s=l.weight/o*80,d=90-s,h=_t(l.name);return{...l,...h,height:s,width:f,x:i+5*i*p,y:d,picHeight:f*220/100*.8,barGradient:h.color.toLowerCase()+"Gradient"}}),viewPortHeight:100,viewPortWidth:220}}function ft(t,e,n){const o=t.slice();return o[3]=e[n],o}function he(t){let e;return{c(){e=J("p"),e.textContent=`error: ${t[6]}`},m(n,o){$(n,e,o)},p:E,d(n){n&&v(e)}}}function fe(t){let e,n,o,i,a,l,p,f,s,d,h,m,P,L,y,B,j,T,U,N,W,b,K,et,nt,O,rt,ot,A,S,it,st,M=ht(t[2].characters),_=[];for(let w=0;w<M.length;w+=1)_[w]=dt(ft(t,M,w));return{c(){e=u("svg"),n=u("defs"),o=u("linearGradient"),i=u("stop"),a=u("stop"),l=u("linearGradient"),p=u("stop"),f=u("stop"),s=u("linearGradient"),d=u("stop"),h=u("stop"),m=u("linearGradient"),P=u("stop"),L=u("stop"),y=u("linearGradient"),B=u("stop"),j=u("stop"),T=u("mask"),U=u("polyline"),N=u("image"),W=u("image"),b=u("text"),K=u("tspan"),et=G("*Canadian Dollars, so"),nt=F(),O=u("tspan"),rt=G("US Dollars go further"),ot=F(),A=u("tspan"),S=u("a"),it=G("LinkTree with tip jar here"),st=F();for(let w=0;w<_.length;w+=1)_[w].c();r(i,"offset","0%"),r(i,"stop-color","#303080"),r(a,"offset","100%"),r(a,"stop-color","#5050ff"),r(o,"id","whiteGradient"),r(o,"x1","0"),r(o,"x2","0"),r(o,"y1","1"),r(o,"y2","0"),r(p,"offset","0%"),r(p,"stop-color","#6e1126"),r(f,"offset","100%"),r(f,"stop-color","#f32529"),r(l,"id","redGradient"),r(l,"x1","0"),r(l,"x2","0"),r(l,"y1","1"),r(l,"y2","0"),r(d,"offset","0%"),r(d,"stop-color","#362e46"),r(h,"offset","100%"),r(h,"stop-color","#594743"),r(s,"id","greyGradient"),r(s,"x1","0"),r(s,"x2","0"),r(s,"y1","1"),r(s,"y2","0"),r(P,"offset","0%"),r(P,"stop-color","#af6f49"),r(L,"offset","100%"),r(L,"stop-color","#ffcf43"),r(m,"id","yellowGradient"),r(m,"x1","0"),r(m,"x2","0"),r(m,"y1","1"),r(m,"y2","0"),r(B,"offset","0%"),r(B,"stop-color","#303080"),r(j,"offset","100%"),r(j,"stop-color","#5050ff"),r(y,"id","blueGradient"),r(y,"x1","0"),r(y,"x2","0"),r(y,"y1","1"),r(y,"y2","0"),r(U,"points","0,0 "+t[2].viewPortWidth+",0 "+t[2].viewPortWidth+","+t[2].viewPortHeight*.3+" 0,"+t[2].viewPortHeight*.8),r(U,"fill","white"),r(T,"id","mask"),X(N,"xlink:href",Yt),r(N,"width","100%"),r(N,"mask","url(#mask)"),X(W,"xlink:href",Ut),r(W,"width","15%"),r(W,"x","8%"),r(W,"y","10%"),r(O,"dy","4%"),r(O,"x","24%"),r(S,"class","link-tree-link svelte-1se7bqf"),r(S,"href","https://linktr.ee/ebcart"),r(A,"dy","4%"),r(A,"x","27%"),r(b,"x","21%"),r(b,"y","18%"),r(b,"class","small svelte-1se7bqf"),r(b,"transform","rotate(-5)"),r(e,"viewBox","0 0 "+t[2].viewPortWidth+" "+t[2].viewPortHeight),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"class","chart svelte-1se7bqf")},m(w,Y){$(w,e,Y),c(e,n),c(n,o),c(o,i),c(o,a),c(n,l),c(l,p),c(l,f),c(n,s),c(s,d),c(s,h),c(n,m),c(m,P),c(m,L),c(n,y),c(y,B),c(y,j),c(n,T),c(T,U),c(e,N),c(e,W),c(e,b),c(b,K),c(K,et),c(b,nt),c(b,O),c(O,rt),c(b,ot),c(b,A),c(A,S),c(S,it),c(b,st);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(e,null)},p(w,Y){if(Y&1){M=ht(w[2].characters);let g;for(g=0;g<M.length;g+=1){const at=ft(w,M,g);_[g]?_[g].p(at,Y):(_[g]=dt(at),_[g].c(),_[g].m(e,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=M.length}},d(w){w&&v(e),Lt(_,w)}}}function dt(t){let e,n,o,i=t[3].weight+"",a,l,p,f;function s(){return t[1](t[3])}return{c(){e=u("rect"),n=u("image"),o=u("text"),a=G(i),l=G("lbs"),r(e,"x",t[3].x+"%"),r(e,"y",t[3].y+"%"),r(e,"width",t[3].width+"%"),r(e,"height",t[3].height+"%"),r(e,"rx","0.5px"),r(e,"ry","0.5px"),r(e,"stroke","white"),r(e,"stroke-width","0.4"),r(e,"stroke-linecap","round"),r(e,"fill","url(#"+t[3].barGradient+")"),X(n,"xlink:href",t[3].pictureLink),r(n,"x",t[3].x+"%"),r(n,"y",t[3].y+t[3].height-t[3].picHeight+"%"),r(n,"height",t[3].picHeight+"%"),r(n,"preserveAspectRatio","true"),r(o,"x",t[3].x+"%"),r(o,"y",t[3].y+t[3].height+"%"),r(o,"class","small svelte-1se7bqf"),r(o,"transform","translate(0, 4)")},m(d,h){$(d,e,h),$(d,n,h),$(d,o,h),c(o,a),c(o,l),p||(f=xt(e,"click",s),p=!0)},p(d,h){t=d},d(d){d&&(v(e),v(n),v(o)),p=!1,f()}}}function de(t){let e;return{c(){e=J("p"),e.textContent="loading data..."},m(n,o){$(n,e,o)},p:E,d(n){n&&v(e)}}}function pe(t){let e,n={ctx:t,current:null,token:null,hasCatch:!0,pending:de,then:fe,catch:he,value:2,error:6};return Ot(t[0](),n),{c(){e=J("main"),n.block.c()},m(o,i){$(o,e,i),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null},p(o,[i]){t=o,At(n,t,i)},i:E,o:E,d(o){o&&v(e),n.block.d(),n.token=null,n=null}}}function ge(t){console.log(`${t} is selected`)}function me(t){async function e(){let o=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vQOpOuCk5XUTvH8hTd2dVSaZ9o_uSNgvB8mb8ythFFEtMz0ohnNmsC-Il3su8HqMdx9xz8L2ePt7qrZ/pub?gid=0&single=true&output=tsv");return ue(le(qt(await o.text())))}return[e,o=>ge(o.name)]}class we extends jt{constructor(e){super(),Bt(this,e,me,pe,vt,{})}}new we({target:document.getElementById("app")});
